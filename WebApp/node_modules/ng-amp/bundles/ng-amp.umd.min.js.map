{"version":3,"sources":["../../../projects/ng-amp/src/lib/ng-amp.service.ts","../../../projects/ng-amp/src/lib/ng-amp.component.ts","../../../projects/ng-amp/src/lib/ng-amp.module.ts"],"names":["Injectable","args","providedIn","NgAmpComponent","prototype","ngOnInit","_this","this","document","querySelector","scriptTag","createElement","id","src","onload","onLoadInit","linkTag","rel","href","body","appendChild","head","insertBefore","firstChild","config","controls","autoplay","poster","width","height","fluid","logo","enabled","component","amp","videoPlayer","nativeElement","type","ngComponent","Component","selector","template","ViewChild","Input","NgModule","declarations","imports","exports"],"mappings":"2QAOE,4HALDA,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,kECuBZ,SAAAC,YAEAA,EAAAC,UAAAC,SAAA,WAAA,IAAAC,EAAAC,KACE,IAAIC,SAASC,cAAc,WAA3B,CACA,IAAMC,EAAYF,SAASG,cAAc,UACzCD,EAAUE,GAAK,SACfF,EAAUG,IAAM,yDAChBH,EAAUI,OAAS,WAAM,OAAAR,EAAKS,cAC9B,IAAMC,EAAUR,SAASG,cAAc,QACvCK,EAAQC,IAAM,aACdD,EAAQE,KAAO,4EACfV,SAASW,KAAKC,YAAYV,GAC1BF,SAASa,KAAKC,aAAaN,EAASR,SAASa,KAAKE,cAG5CpB,EAAAC,UAAAW,WAAA,WACN,IAAMS,EAAS,CACbC,UAA4B,IAAlBlB,KAAKkB,SACfC,SAAUnB,KAAKmB,SACfC,OAAQpB,KAAKoB,OACbC,MAAOrB,KAAKqB,MACZC,OAAQtB,KAAKsB,OACbC,MAAOvB,KAAKuB,MACZC,KAAM,CAAEC,SAAS,IAEbC,EAAYC,IAAI3B,KAAK4B,YAAYC,cAAeZ,GACtDS,EAAUpB,IAAI,CAAC,CACbA,IAAKN,KAAKM,IACVwB,KAAM,iCAER9B,KAAK4B,YAAYG,YAAcL,4BApDlCM,EAAAA,UAAStC,KAAA,CAAC,CACTuC,SAAU,SACVC,SAAU,+UAWTC,EAAAA,UAASzC,KAAA,CAAC,sBACV0C,EAAAA,wBACAA,EAAAA,wBACAA,EAAAA,sBACAA,EAAAA,qBACAA,EAAAA,sBACAA,EAAAA,qBACAA,EAAAA,eCbH,iCANCC,EAAAA,SAAQ3C,KAAA,CAAC,CACR4C,aAAc,CAAC1C,GACf2C,QAAS,GAETC,QAAS,CAAC5C","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgAmpService {\n\n  constructor() { }\n}\n","import { Component, OnInit, ViewChild, Input } from '@angular/core';\n\ndeclare var amp: any; // todo: use the amp d.ts\n\n@Component({\n  selector: 'ng-amp',\n  template: `\n    <video #video class=\"azuremediaplayer amp-default-skin\" controls>\n      <p class=\"amp-no-js\">\n          To view this video please enable JavaScript, and consider upgrading to a web browser that supports HTML5 video.\n      </p>\n    </video>\n  `,\n  styles: [\n  ]\n})\nexport class NgAmpComponent implements OnInit {\n  @ViewChild('video') videoPlayer;\n  @Input() src: string;\n  @Input() controls: boolean;\n  @Input() autoplay: boolean;\n  @Input() poster: string;\n  @Input() width: number;\n  @Input() height: number;\n  @Input() fluid: boolean;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    if (document.querySelector('#ng-amp')) { return; }\n    const scriptTag = document.createElement('script');\n    scriptTag.id = 'ng-amp';\n    scriptTag.src = '//amp.azure.net/libs/amp/2.3.5/azuremediaplayer.min.js';\n    scriptTag.onload = () => this.onLoadInit();\n    const linkTag = document.createElement('link');\n    linkTag.rel = 'stylesheet';\n    linkTag.href = '//amp.azure.net/libs/amp/2.3.5/skins/amp-default/azuremediaplayer.min.css';\n    document.body.appendChild(scriptTag);\n    document.head.insertBefore(linkTag, document.head.firstChild);\n  }\n\n  private onLoadInit(): void {\n    const config = {\n      controls: this.controls !== false,\n      autoplay: this.autoplay,\n      poster: this.poster,\n      width: this.width,\n      height: this.height,\n      fluid: this.fluid,\n      logo: { enabled: false },\n    };\n    const component = amp(this.videoPlayer.nativeElement, config);\n    component.src([{\n      src: this.src,\n      type: 'application/vnd.ms-sstr+xml'\n    }]);\n    this.videoPlayer.ngComponent = component;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgAmpComponent } from './ng-amp.component';\n\n\n\n@NgModule({\n  declarations: [NgAmpComponent],\n  imports: [\n  ],\n  exports: [NgAmpComponent]\n})\nexport class NgAmpModule { }\n"]}