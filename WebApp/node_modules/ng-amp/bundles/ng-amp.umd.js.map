{"version":3,"file":"ng-amp.umd.js","sources":["../../../projects/ng-amp/src/lib/ng-amp.service.ts","../../../projects/ng-amp/src/lib/ng-amp.component.ts","../../../projects/ng-amp/src/lib/ng-amp.module.ts","../../../projects/ng-amp/src/public-api.ts","../../../projects/ng-amp/src/ng-amp.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgAmpService {\n\n  constructor() { }\n}\n","import { Component, OnInit, ViewChild, Input } from '@angular/core';\n\ndeclare var amp: any; // todo: use the amp d.ts\n\n@Component({\n  selector: 'ng-amp',\n  template: `\n    <video #video class=\"azuremediaplayer amp-default-skin\" controls>\n      <p class=\"amp-no-js\">\n          To view this video please enable JavaScript, and consider upgrading to a web browser that supports HTML5 video.\n      </p>\n    </video>\n  `,\n  styles: [\n  ]\n})\nexport class NgAmpComponent implements OnInit {\n  @ViewChild('video') videoPlayer;\n  @Input() src: string;\n  @Input() controls: boolean;\n  @Input() autoplay: boolean;\n  @Input() poster: string;\n  @Input() width: number;\n  @Input() height: number;\n  @Input() fluid: boolean;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    if (document.querySelector('#ng-amp')) { return; }\n    const scriptTag = document.createElement('script');\n    scriptTag.id = 'ng-amp';\n    scriptTag.src = '//amp.azure.net/libs/amp/2.3.5/azuremediaplayer.min.js';\n    scriptTag.onload = () => this.onLoadInit();\n    const linkTag = document.createElement('link');\n    linkTag.rel = 'stylesheet';\n    linkTag.href = '//amp.azure.net/libs/amp/2.3.5/skins/amp-default/azuremediaplayer.min.css';\n    document.body.appendChild(scriptTag);\n    document.head.insertBefore(linkTag, document.head.firstChild);\n  }\n\n  private onLoadInit(): void {\n    const config = {\n      controls: this.controls !== false,\n      autoplay: this.autoplay,\n      poster: this.poster,\n      width: this.width,\n      height: this.height,\n      fluid: this.fluid,\n      logo: { enabled: false },\n    };\n    const component = amp(this.videoPlayer.nativeElement, config);\n    component.src([{\n      src: this.src,\n      type: 'application/vnd.ms-sstr+xml'\n    }]);\n    this.videoPlayer.ngComponent = component;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgAmpComponent } from './ng-amp.component';\n\n\n\n@NgModule({\n  declarations: [NgAmpComponent],\n  imports: [\n  ],\n  exports: [NgAmpComponent]\n})\nexport class NgAmpModule { }\n","/*\n * Public API Surface of ng-amp\n */\n\nexport * from './lib/ng-amp.service';\nexport * from './lib/ng-amp.component';\nexport * from './lib/ng-amp.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["Injectable","Component","ViewChild","Input","NgModule"],"mappings":";;;;;;;QAOE;SAAiB;;;;;gBALlBA,aAAU,SAAC;oBACV,UAAU,EAAE,MAAM;iBACnB;;;;;QCsBC;SAAiB;QAEjB,iCAAQ,GAAR;YAAA,iBAWC;YAVC,IAAI,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE;gBAAE,OAAO;aAAE;YAClD,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACnD,SAAS,CAAC,EAAE,GAAG,QAAQ,CAAC;YACxB,SAAS,CAAC,GAAG,GAAG,wDAAwD,CAAC;YACzE,SAAS,CAAC,MAAM,GAAG,cAAM,OAAA,KAAI,CAAC,UAAU,EAAE,GAAA,CAAC;YAC3C,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAC/C,OAAO,CAAC,GAAG,GAAG,YAAY,CAAC;YAC3B,OAAO,CAAC,IAAI,GAAG,2EAA2E,CAAC;YAC3F,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YACrC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC/D;QAEO,mCAAU,GAAV;YACN,IAAM,MAAM,GAAG;gBACb,QAAQ,EAAE,IAAI,CAAC,QAAQ,KAAK,KAAK;gBACjC,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,IAAI,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE;aACzB,CAAC;YACF,IAAM,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;YAC9D,SAAS,CAAC,GAAG,CAAC,CAAC;oBACb,GAAG,EAAE,IAAI,CAAC,GAAG;oBACb,IAAI,EAAE,6BAA6B;iBACpC,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,SAAS,CAAC;SAC1C;;;;gBArDFC,YAAS,SAAC;oBACT,QAAQ,EAAE,QAAQ;oBAClB,QAAQ,EAAE,mQAMT;iBAGF;;;;8BAEEC,YAAS,SAAC,OAAO;sBACjBC,QAAK;2BACLA,QAAK;2BACLA,QAAK;yBACLA,QAAK;wBACLA,QAAK;yBACLA,QAAK;wBACLA,QAAK;;;;QCbR;;;;;gBANCC,WAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,cAAc,CAAC;oBAC9B,OAAO,EAAE,EACR;oBACD,OAAO,EAAE,CAAC,cAAc,CAAC;iBAC1B;;;ICVD;;;;ICAA;;;;;;;;;;;;;;;;"}